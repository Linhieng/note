# ts å£°æ˜æ–‡ä»¶(.d.ts) çš„ç›¸å…³çŸ¥è¯†ç‚¹

å†™åœ¨å‰è¨€: å£°æ˜æ–‡ä»¶, è§£å†³çš„æ˜¯ ts çš„å£°æ˜æŠ¥é”™,
å› ä¸ºæœ‰ä¸€äº›å˜é‡æˆ–æ¨¡å—, æˆ‘ä»¬çŸ¥é“å®é™…è¿è¡Œçš„æ—¶å€™æ˜¯å¯ä»¥æ‰¾åˆ°çš„,
ä½†æ˜¯åœ¨ ts æ–‡ä»¶ä¸­ä½¿ç”¨æ—¶, ts ä¼šåº”ä¸ºæ‰¾ä¸åˆ°è¯¥å˜é‡æˆ–æ¨¡å—çš„ç±»å‹å£°æ˜,
è€Œæç¤ºæˆ‘ä»¬ä¸å­˜åœ¨è¯¥å˜é‡æˆ–æ¨¡å—.
è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å£°æ˜æ–‡ä»¶, æ¥å‘ŠçŸ¥ ts é—®å˜é‡æˆ–æ¨¡å—æ˜¯å®é™…å­˜åœ¨çš„,
å¹¶ä¸”ç”±å‘ŠçŸ¥ ts è¯¥å˜é‡æˆ–æ¨¡å—çš„ç±»å‹.

## ğŸ• é—®é¢˜ / æ‚ä¹±

å¦‚æœé‡åˆ°: åœ¨å£°æ˜æ–‡ä»¶ä¸­ä½¿ç”¨ import å…¶ä»–æ¨¡å—çš„ç±»å‹, ç„¶åä½¿ç”¨çš„æ—¶å€™ä¼šæŠ¥é”™,
å¯ä»¥å‚è€ƒä¸€ä¸‹ä¸‹é¢è¿™ä¸ª(æ¥è‡ª element-plus):

```ts
// generated by unplugin-vue-components
// We suggest you to commit this file into source control
// Read more: https://github.com/vuejs/core/pull/3399
import '@vue/runtime-core'

declare module '@vue/runtime-core' {
  export interface GlobalComponents {
    BaseHeader: typeof import('./components/layouts/BaseHeader.vue')['default']
    BaseSide: typeof import('./components/layouts/BaseSide.vue')['default']
    ElButton: typeof import('element-plus/es')['ElButton']
    ElConfigProvider: typeof import('element-plus/es')['ElConfigProvider']
    ElDatePicker: typeof import('element-plus/es')['ElDatePicker']
    ElIcon: typeof import('element-plus/es')['ElIcon']
    ElInput: typeof import('element-plus/es')['ElInput']
    ElMenu: typeof import('element-plus/es')['ElMenu']
    ElMenuItem: typeof import('element-plus/es')['ElMenuItem']
    ElMenuItemGroup: typeof import('element-plus/es')['ElMenuItemGroup']
    ElSubMenu: typeof import('element-plus/es')['ElSubMenu']
    ElTag: typeof import('element-plus/es')['ElTag']
    HelloWorld: typeof import('./components/HelloWorld.vue')['default']
  }
}

export {}
```

## ğŸ• æ³¨æ„äº‹é¡¹

å£°æ˜æ–‡ä»¶å…è®¸å…¨å±€å£°æ˜, ä½†è¿™åªæ˜¯åœ¨æ£€æŸ¥çš„è¿‡ç¨‹ä¸­æœ‰æ•ˆ,
åœ¨å®é™…è¿è¡Œè¿‡ç¨‹ä¸­(js), åº”è¯¥ç¡®ä¿å…¨å±€å˜é‡ "ç¡®å®" æ˜¯ "å…¨å±€"!

## ğŸ• å…¨å±€å£°æ˜

### å‡†å¤‡å·¥ä½œ:

- åˆ›å»º `global.d.ts` å£°æ˜æ–‡ä»¶
- åˆ›å»º `index.ts` æ–‡ä»¶, ç”¨äºæµ‹è¯•
- ç¡®ä¿ `tsconfig.json` ä¸­çš„ `include` å±æ€§åŒ…å« `global.d.ts` å’Œ `index.ts` æ–‡ä»¶è·¯å¾„.
- (å¯é€‰) å¦‚æœä½¿ç”¨äº† eslint, è¿˜éœ€è¦åœ¨ `.eslintrc` ä¸­å°†å…¨å±€å˜é‡æ·»åŠ åˆ° `globals` å±æ€§ä¸­

### å…¨å±€å˜é‡

```ts
// index.ts
console.log(foo)
```

```ts
// global.d.ts
declare let foo: number
```

### å…¨å±€å‡½æ•°

```ts
// index.ts
greet('hello, world')
```

```ts
// global.d.ts
declare function greet(greeting: string): void
```

### å…¨å±€å¯¹è±¡ / å£°æ˜ namespace (ç†è§£å¯èƒ½æœ‰åå·®)

```ts
// index.ts
myLib.makeGreeting('hello, world')
myLib.numberOfGreetings
```

```ts
// global.d.ts
declare namespace myLib {
  function makeGreeting(s: string): string;
  let numberOfGreetings: number
}
```

### å‡½æ•°é‡è½½

```ts
// index.ts
setWidget(70)
setWidget('70kg')
```

```ts
// global.d.ts
declare function setWidget(n: number): void
declare function setWidget(s: string): void
```

### å…¨å±€ç±»

```ts
// index.ts
const myGreet = new Greeter('hello')
console.log(myGreet.greeting)
myGreet.showGreeting()
```

```ts
// global.d.ts
declare class Greeter {
  constructor(greeting: string)
  greeting: string
  showGreeting(): void
}
```